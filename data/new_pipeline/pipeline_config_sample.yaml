deployment:
  namespace: kubeflow
  prometheusURL: http://localhost:9090
stages:
- name: filter_data
  type: filtering
  parameter:
    operation: greater_than
    column_name: age
    threshold: 30
- name: anonymize_columns
  type: anonymization
  parameter:
    columns_to_anonymize:
    - name
    - email
- name: aggregate_data
  type: aggregation
  parameter:
    groupby_column: age
    columns_to_aggregate:
    - salary
    - age
    aggregation_functions:
      salary:
      - mean
      - sum
      age:
      - mean
- name: compress_json_to_output
  type: compress_json_to_gzip
  parameter:
    output_file: ./data/compressed_data.json.gz
- name: compress_csv_output
  type: compress_csv_to_gzip
  parameter:
    output_file: ./data/compressed_data.csv.gz
pipelines:
- name: auto_gen_pipeline_be167e83-d098-4252-9933-8f914c998daf
  flow:
  - filter_data
  datasource:
    type: pipeline
    metadata: employee_data_pipeline,sales_data_pipeline
  consumers: null
- name: auto_gen_pipeline_811b7ffc-a666-468e-8d4d-0a07e2a96090
  flow:
  - anonymize_columns
  datasource:
    type: pipeline
    metadata: employee_data_pipeline
  consumers:
  - u1
  - u2
  - u2
- name: auto_gen_pipeline_27c0424e-2265-4a77-bbbb-a026ddea1c83
  flow:
  - aggregate_data
  - compress_json_to_output
  datasource:
    type: pipeline
    metadata: employee_data_pipeline,sales_data_pipeline
  consumers: null
pipelineChains:
- name: employee_data_pipeline_618e4a19-530b-405b-9ce6-a1f7788b9778
  flow:
  - auto_gen_pipeline_be167e83-d098-4252-9933-8f914c998daf
  - auto_gen_pipeline_811b7ffc-a666-468e-8d4d-0a07e2a96090
  - auto_gen_pipeline_27c0424e-2265-4a77-bbbb-a026ddea1c83
- name: sales_data_pipeline_764bd130-0123-4a60-9f4e-31ff2b14b47f
  flow:
  - auto_gen_pipeline_be167e83-d098-4252-9933-8f914c998daf
  - auto_gen_pipeline_27c0424e-2265-4a77-bbbb-a026ddea1c83
